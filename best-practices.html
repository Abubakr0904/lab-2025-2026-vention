<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>.NET Best Practices - Vention Lab</title>
<link rel="stylesheet" href="styles.css">
</head>
<body>
<div class="slide-container">

    <!-- Slide 1: Title -->
    <div class="slide active title-slide">
        <div>
            <h1>.NET Best Practices Training</h1>
            <h2>Logging, Configuration, Error Handling & Documentation</h2>
            
            <div style="margin-top: 3vh; font-size: clamp(14px, 2vh, 20px); line-height: 1.8;">
                <p><strong>üìö Key Learning Areas:</strong></p>
                <p style="margin-top: 1vh;">‚úì Professional logging and observability</p>
                <p>‚úì Secure and flexible configuration management</p>
                <p>‚úì Robust error handling strategies</p>
                <p>‚úì Comprehensive documentation practices</p>
            </div>
            <div class="info-box" style="margin-top: 3vh;">
                <strong>Training Duration:</strong> ~120 minutes | <strong>Level:</strong> Junior to Mid-Level
            </div>
            <p style="margin-top: 2.5vh; font-size: clamp(14px, 1.8vh, 18px); color: #e0e0e0;">
                <strong>üë®‚Äçüè´ Instructor:</strong> Abubakr Bakhromov
            </p>
            <p style="margin-top: 2vh; font-size: clamp(12px, 1.6vh, 16px);">
                üìò Primary Reference: <a href="https://docs.microsoft.com/dotnet/architecture/" target="_blank" style="color: #e0e0e0; border-bottom: 1px dotted #e0e0e0;">Microsoft Architecture Guides</a>
            </p>
        </div>
    </div>

    <!-- Slide 2: Introduction to .NET Best Practices -->
    <div class="slide">
        <div class="content">
            <h2>Introduction to .NET Best Practices</h2>
            
            <h3>What Are "Best Practices"?</h3>
            <p>Best practices are proven, professional approaches to writing code that prioritize:</p>
            <ul>
                <li><strong>Coding Discipline:</strong> Consistent, readable, and maintainable code</li>
                <li><strong>Scalability:</strong> Systems that grow gracefully under load</li>
                <li><strong>Maintainability:</strong> Easy to understand, modify, and extend</li>
                <li><strong>Observability:</strong> Ability to monitor, debug, and diagnose issues</li>
            </ul>

            <div class="info-box" style="margin-top: 2vh;">
                <strong>üí° Key Principle:</strong> Best practices transform good code into production-ready, enterprise-grade software.
            </div>

            <div class="why-section" style="margin-top: 1.5vh;">
                <strong>üéØ Why This Matters:</strong> Following best practices reduces technical debt, improves team productivity, and ensures your software can survive in production for years.
            </div>
            
            <p class="reference">üìò <a href="https://docs.microsoft.com/dotnet/architecture/modern-web-apps-azure/architectural-principles" target="_blank">Architectural Principles</a></p>
        </div>
    </div>

    <!-- Slide 3: Purpose of This Lecture -->
    <div class="slide">
        <div class="content">
            <h2>Purpose of This Lecture</h2>
            
            <h3>What You Will Learn</h3>
            <p>This training will teach you how professional .NET developers handle critical production concerns:</p>

            <div style="margin-top: 2vh;">
                <p><strong>1. Logging:</strong> Capture meaningful runtime information for debugging and monitoring</p>
                <p style="margin-top: 1vh;"><strong>2. Configuration:</strong> Manage settings safely across environments</p>
                <p style="margin-top: 1vh;"><strong>3. Error Handling:</strong> Build resilient systems that gracefully recover from failures</p>
                <p style="margin-top: 1vh;"><strong>4. Documentation:</strong> Create and maintain docs that accelerate team productivity</p>
            </div>

            <div class="hint" style="margin-top: 2vh;">
                <strong>üí° Target Outcome:</strong> By the end of this training, you'll be able to implement production-grade patterns used by senior engineers in large-scale systems.
            </div>

            <p class="reference">üìò <a href="https://docs.microsoft.com/dotnet/architecture/" target="_blank">Microsoft .NET Architecture Guides</a></p>
        </div>
    </div>

    <!-- Slide 4: Overview of the Four Pillars -->
    <div class="slide">
        <div class="content">
            <h2>Overview of the Four Pillars</h2>
            
            <h3>The Four Interconnected Areas</h3>

            <table class="table" style="margin-top: 1.5vh;">
                <tr>
                    <th style="width: 25%;">Pillar</th>
                    <th style="width: 40%;">Purpose</th>
                    <th style="width: 35%;">Key Benefit</th>
                </tr>
                <tr>
                    <td><strong>Logging</strong></td>
                    <td>Capture runtime behavior</td>
                    <td>Observability & debugging</td>
                </tr>
                <tr>
                    <td><strong>Configuration</strong></td>
                    <td>Manage settings externally</td>
                    <td>Flexibility & portability</td>
                </tr>
                <tr>
                    <td><strong>Error Handling</strong></td>
                    <td>Gracefully handle failures</td>
                    <td>Stability & recovery</td>
                </tr>
                <tr>
                    <td><strong>Documentation</strong></td>
                    <td>Share knowledge effectively</td>
                    <td>Maintainability & onboarding</td>
                </tr>
            </table>

            <div class="why-section" style="margin-top: 2vh;">
                <strong>üéØ How They Interconnect:</strong> When an error occurs (Error Handling), you need logs (Logging) to diagnose it. Logs reference configuration values (Configuration), and documentation (Documentation) explains the system's behavior.
            </div>
        </div>
    </div>

    <!-- Slide 5: Why These Topics Matter -->
    <div class="slide">
        <div class="content">
            <h2>Why These Topics Matter</h2>
            
            <h3>The Cost of Poor Practices</h3>

            <div class="warning" style="margin-top: 1.5vh;">
                <strong>‚ö†Ô∏è Real Consequences:</strong>
                <ul style="margin-top: 1vh;">
                    <li><strong>Poor Logging:</strong> Production bugs take days to diagnose instead of minutes</li>
                    <li><strong>Hardcoded Config:</strong> Deploying to a new environment requires code changes</li>
                    <li><strong>Bad Error Handling:</strong> Silent failures corrupt data without anyone noticing</li>
                    <li><strong>Missing Docs:</strong> New team members take weeks to become productive</li>
                </ul>
            </div>

            <div class="info-box" style="margin-top: 2vh;">
                <strong>‚úÖ Benefits of Best Practices:</strong>
                <ul style="margin-top: 1vh;">
                    <li>Reduce mean time to recovery (MTTR) by 10x</li>
                    <li>Deploy confidently to multiple environments</li>
                    <li>Prevent catastrophic data loss</li>
                    <li>Onboard new developers in days, not weeks</li>
                </ul>
            </div>

            <p style="margin-top: 2vh; font-style: italic; color: #666;">"Good practices pay for themselves within weeks. Bad practices compound debt for years."</p>
        </div>
    </div>

    <!-- Slide 6: Real-World Scenario -->
    <div class="slide">
        <div class="content">
            <h2>Real-World Scenario: Production Failure</h2>
            
            <h3>Case Study: The Silent Payment Bug</h3>

            <div class="code-block"><span class="code-comment">// Production code (BAD example)</span>
<span class="code-keyword">try</span>
{
    ProcessPayment(order);
}
<span class="code-keyword">catch</span> { }  <span class="code-comment">// Silent failure!</span></div>

            <h3 style="margin-top: 2vh;">What Went Wrong</h3>
            <p><strong>1. No Logging:</strong> Payment failures weren't logged anywhere</p>
            <p><strong>2. Hardcoded Config:</strong> Payment gateway URL was hardcoded to staging</p>
            <p><strong>3. Poor Error Handling:</strong> Exceptions swallowed silently</p>
            <p><strong>4. No Documentation:</strong> No one knew how the payment flow worked</p>

            <div class="warning" style="margin-top: 2vh;">
                <strong>‚ö†Ô∏è Impact:</strong> Company lost $50,000 in failed payments over 3 days before discovering the issue. Customers received goods but weren't charged.
            </div>

            <div class="hint" style="margin-top: 1.5vh;">
                <strong>üí° The Fix:</strong> Implementing the four pillars would have caught this bug in staging or within minutes of production deployment.
            </div>
        </div>
    </div>

    <!-- Slide 7: Section 1 ‚Äì Logging Basics -->
    <div class="slide">
        <div class="content">
            <h2 style="text-align: center; color: #0056b3; margin-top: 5vh;">Section 1: Logging Basics</h2>
            <h2 style="text-align: center; margin-top: 2vh;">The Foundation of Observability</h2>

            <div style="text-align: center; margin-top: 4vh; font-size: clamp(16px, 2.2vh, 24px);">
                <p>In this section, you'll learn:</p>
                <ul style="list-style: none; margin-top: 2vh; line-height: 2;">
                    <li>‚úì What logging is and why it's critical</li>
                    <li>‚úì Logging levels and when to use them</li>
                    <li>‚úì Structured logging vs. string logs</li>
                    <li>‚úì Best practices and common mistakes</li>
                    <li>‚úì Centralized logging and correlation IDs</li>
                </ul>
            </div>

            <div class="info-box" style="margin-top: 4vh;">
                <strong>Key Takeaway:</strong> Proper logging is your application's "black box recorder" ‚Äì essential for production debugging and monitoring.
            </div>
        </div>
    </div>

    <!-- Slide 8: What Is Logging? -->
    <div class="slide">
        <div class="content">
            <h2>What Is Logging?</h2>
            
            <h3>Definition</h3>
            <p><strong>Logging</strong> is the practice of capturing runtime information about your application's behavior to enable debugging, monitoring, auditing, and security compliance.</p>

            <h3 style="margin-top: 2vh;">What Gets Logged?</h3>
            <ul>
                <li><strong>Events:</strong> User login, order placed, payment processed</li>
                <li><strong>Errors:</strong> Exceptions, validation failures, integration errors</li>
                <li><strong>Performance:</strong> Request duration, database query time</li>
                <li><strong>Diagnostics:</strong> Variable values, state transitions, external API responses</li>
            </ul>

            <div class="info-box" style="margin-top: 2vh;">
                <strong>‚ÑπÔ∏è Log vs Metrics vs Traces:</strong>
                <ul style="margin-top: 1vh;">
                    <li><strong>Logs:</strong> Discrete events with context (what happened)</li>
                    <li><strong>Metrics:</strong> Numerical measurements (how many, how fast)</li>
                    <li><strong>Traces:</strong> Request flows across services (how it flowed)</li>
                </ul>
            </div>

            <p class="reference">üìò <a href="https://docs.microsoft.com/dotnet/core/extensions/logging" target="_blank">Logging in .NET</a></p>
        </div>
    </div>

    <!-- Slide 9: Goals of Logging -->
    <div class="slide">
        <div class="content">
            <h2>Goals of Logging</h2>
            
            <h3>Four Primary Goals</h3>

            <div style="margin-top: 2vh;">
                <p><strong>1. Visibility</strong></p>
                <p style="margin-left: 2vw;">Understand what your application is doing at any moment in production</p>
                
                <p style="margin-top: 1.5vh;"><strong>2. Traceability</strong></p>
                <p style="margin-left: 2vw;">Track requests from entry to exit across multiple services</p>
                
                <p style="margin-top: 1.5vh;"><strong>3. Security & Compliance</strong></p>
                <p style="margin-left: 2vw;">Audit who did what and when for regulatory requirements (GDPR, SOX, HIPAA)</p>
                
                <p style="margin-top: 1.5vh;"><strong>4. Troubleshooting</strong></p>
                <p style="margin-left: 2vw;">Diagnose and fix production issues quickly</p>
            </div>

            <div class="hint" style="margin-top: 2vh;">
                <strong>üí° Golden Rule:</strong> If you can't see it in logs, you can't debug it in production.
            </div>

            <div class="why-section" style="margin-top: 1.5vh;">
                <strong>üéØ Why Structured Goals Matter:</strong> Without clear logging goals, teams either log everything (noise) or nothing (blind). A clear strategy ensures logs are useful and actionable.
            </div>
        </div>
    </div>

    <!-- Slide 10: Logging Levels -->
    <div class="slide">
        <div class="content">
            <h2>Logging Levels: The Hierarchy</h2>
            
            <h3>Six Standard Levels</h3>

            <table class="table" style="margin-top: 1.5vh;">
                <tr>
                    <th style="width: 20%;">Level</th>
                    <th style="width: 40%;">Use Case</th>
                    <th style="width: 40%;">Example</th>
                </tr>
                <tr>
                    <td><strong>Trace</strong></td>
                    <td>Very detailed, step-by-step</td>
                    <td>Method entry/exit</td>
                </tr>
                <tr>
                    <td><strong>Debug</strong></td>
                    <td>Detailed development info</td>
                    <td>Variable values, SQL queries</td>
                </tr>
                <tr>
                    <td><strong>Information</strong></td>
                    <td>General app flow events</td>
                    <td>User logged in, order placed</td>
                </tr>
                <tr>
                    <td><strong>Warning</strong></td>
                    <td>Unexpected but recoverable</td>
                    <td>Retry succeeded, deprecated API</td>
                </tr>
                <tr>
                    <td><strong>Error</strong></td>
                    <td>Failure requiring attention</td>
                    <td>Payment failed, DB unavailable</td>
                </tr>
                <tr>
                    <td><strong>Critical</strong></td>
                    <td>Catastrophic failure</td>
                    <td>Application crash, data loss</td>
                </tr>
            </table>

            <div class="info-box" style="margin-top: 2vh;">
                <strong>‚ÑπÔ∏è Production Configuration:</strong> Typically set to <code>Information</code> or <code>Warning</code> to reduce noise. Lower levels (Trace, Debug) only enabled when troubleshooting.
            </div>
        </div>
    </div>


    <!-- Slide 11: Example of Logging Levels -->
    <div class="slide">
        <div class="content">
            <h2>Example of Logging Levels</h2>
            
            <h3>Code Examples</h3>

            <div class="code-block"><span class="code-comment">// Information: Business event</span>
_logger.LogInformation(<span class="code-string">"User {UserId} logged in successfully"</span>, user.Id);

<span class="code-comment">// Warning: Recoverable issue</span>
_logger.LogWarning(<span class="code-string">"API retry {Attempt} succeeded"</span>, retryCount);

<span class="code-comment">// Error: Operation failed</span>
_logger.LogError(ex, <span class="code-string">"Payment failed for order {OrderId}"</span>, order.Id);

<span class="code-comment">// Critical: System-wide failure</span>
_logger.LogCritical(ex, <span class="code-string">"Database connection pool exhausted"</span>);</div>

            <div class="info-box" style="margin-top: 2vh;">
                <strong>‚ÑπÔ∏è Structured Logging:</strong> Notice the use of placeholders like <code>{UserId}</code> instead of string interpolation. This enables powerful filtering in log analysis tools.
            </div>

            <div class="hint" style="margin-top: 1.5vh;">
                <strong>üí° Best Practice:</strong> Always include contextual identifiers (UserId, OrderId, RequestId) to make logs traceable.
            </div>
        </div>
    </div>

    <!-- Slide 12: Logging Frameworks in .NET -->
    <div class="slide">
        <div class="content">
            <h2>Logging Frameworks in .NET</h2>
            
            <h3>Microsoft.Extensions.Logging</h3>
            <p>The <strong>abstraction layer</strong> that decouples your code from specific logging implementations.</p>

            <h3 style="margin-top: 2vh;">Popular Providers</h3>
            <ul>
                <li><strong>Serilog:</strong> Structured logging with rich formatting and sinks</li>
                <li><strong>NLog:</strong> Flexible configuration, mature ecosystem</li>
                <li><strong>log4net:</strong> Java log4j port, enterprise-focused</li>
                <li><strong>Console/Debug:</strong> Built-in, for development</li>
            </ul>

            <div class="code-block" style="margin-top: 1.5vh;"><span class="code-comment">// Using the abstraction</span>
<span class="code-keyword">public class</span> <span class="code-type">OrderService</span>
{
    <span class="code-keyword">private readonly</span> <span class="code-type">ILogger</span>&lt;<span class="code-type">OrderService</span>&gt; _logger;
    
    <span class="code-keyword">public</span> OrderService(<span class="code-type">ILogger</span>&lt;<span class="code-type">OrderService</span>&gt; logger)
    {
        _logger = logger;
    }
}</div>

            <p class="reference">üìò <a href="https://docs.microsoft.com/dotnet/core/extensions/logging-providers" target="_blank">Logging Providers</a></p>
        </div>
    </div>

    <!-- Slide 13: Why Use Abstraction -->
    <div class="slide">
        <div class="content">
            <h2>Why Use Abstraction</h2>
            
            <h3>Decoupling Logic from Implementation</h3>
            <p>By coding against <code>ILogger&lt;T&gt;</code> instead of a specific framework, you gain:</p>

            <ul style="margin-top: 2vh;">
                <li><strong>Flexibility:</strong> Switch logging providers without changing application code</li>
                <li><strong>Testability:</strong> Mock <code>ILogger</code> in unit tests</li>
                <li><strong>Consistency:</strong> Standard interface across all .NET applications</li>
                <li><strong>Multiple Outputs:</strong> Send logs to console, file, and cloud simultaneously</li>
            </ul>

            <div class="why-section" style="margin-top: 2vh;">
                <strong>üéØ Why This Matters:</strong> In a large organization, you might start with simple file logging, then migrate to Elasticsearch. With abstraction, you change configuration, not code.
            </div>

            <div class="code-block" style="margin-top: 1.5vh;"><span class="code-comment">// Configuration change, not code change</span>
builder.Services.AddLogging(loggingBuilder =>
{
    loggingBuilder.AddConsole();    <span class="code-comment">// Development</span>
    loggingBuilder.AddSerilog();     <span class="code-comment">// Production</span>
    loggingBuilder.AddAzureWebAppDiagnostics();  <span class="code-comment">// Cloud</span>
});</div>
        </div>
    </div>

    <!-- Slide 14: Serilog Overview -->
    <div class="slide">
        <div class="content">
            <h2>Serilog Overview</h2>
            
            <h3>Structured Logging with Enrichers and Sinks</h3>
            <p><strong>Serilog</strong> is the most popular third-party logging framework for .NET, known for structured logging and flexible output options.</p>

            <h3 style="margin-top: 2vh;">Key Concepts</h3>
            <p><strong>Enrichers:</strong> Add contextual data (machine name, environment, thread ID)</p>
            <p><strong>Sinks:</strong> Output destinations (Console, File, Seq, Elasticsearch)</p>
            <p><strong>Structured Logging:</strong> Logs are JSON objects, not strings</p>

            <div class="info-box" style="margin-top: 2vh;">
                <strong>‚ÑπÔ∏è Why Serilog:</strong> Unlike traditional loggers that produce unstructured text, Serilog captures data as structured events that can be queried, filtered, and analyzed efficiently.
            </div>

            <p class="reference">üìò <a href="https://serilog.net/" target="_blank">Serilog Documentation</a></p>
        </div>
    </div>

    <!-- Slide 15: Example: Serilog Setup -->
    <div class="slide">
        <div class="content">
            <h2>Example: Serilog Setup</h2>
            
            <h3>Configuration Example</h3>

            <div class="code-block">Log.Logger = <span class="code-keyword">new</span> <span class="code-type">LoggerConfiguration</span>()
    .Enrich.FromLogContext()
    .Enrich.WithMachineName()
    .Enrich.WithEnvironmentName()
    .WriteTo.Console()
    .WriteTo.File(<span class="code-string">"logs/log.txt"</span>, 
        rollingInterval: <span class="code-type">RollingInterval</span>.Day,
        retainedFileCountLimit: <span class="code-number">30</span>)
    .WriteTo.Seq(<span class="code-string">"http://localhost:5341"</span>)
    .CreateLogger();

<span class="code-comment">// Use in ASP.NET Core</span>
builder.Host.UseSerilog();</div>

            <h3 style="margin-top: 2vh;">What This Does</h3>
            <ul>
                <li><strong>Enrichers:</strong> Add machine name and environment to every log</li>
                <li><strong>Console Sink:</strong> Output to console during development</li>
                <li><strong>File Sink:</strong> Daily rolling files, keep 30 days</li>
                <li><strong>Seq Sink:</strong> Send to Seq for querying and dashboards</li>
            </ul>
        </div>
    </div>

    <!-- Slide 16: Structured Logging -->
    <div class="slide">
        <div class="content">
            <h2>Structured Logging</h2>
            
            <h3>String Logs vs. Structured Logs</h3>

            <table class="table" style="margin-top: 1.5vh;">
                <tr>
                    <th style="width: 50%;">String Logging (‚ùå Bad)</th>
                    <th style="width: 50%;">Structured Logging (‚úÖ Good)</th>
                </tr>
                <tr>
                    <td><code>"User 123 logged in"</code></td>
                    <td><code>"User {UserId} logged in", 123</code></td>
                </tr>
                <tr>
                    <td>Hard to query/filter</td>
                    <td>Easy to query/filter</td>
                </tr>
                <tr>
                    <td>String concatenation overhead</td>
                    <td>Efficient, no concatenation</td>
                </tr>
                <tr>
                    <td>No data extraction</td>
                    <td>Extract UserId as field</td>
                </tr>
            </table>

            <div class="code-block" style="margin-top: 2vh;"><span class="code-comment">// ‚ùå DON'T - String interpolation</span>
_logger.LogInformation($<span class="code-string">"User {user.Id} placed order {order.Id}"</span>);

<span class="comment">// ‚úÖ DO - Structured placeholders</span>
_logger.LogInformation(<span class="code-string">"User {UserId} placed order {OrderId}"</span>, 
    user.Id, order.Id);</div>

            <div class="why-section" style="margin-top: 1.5vh;">
                <strong>üéØ Why Structured:</strong> In log analysis tools like Seq or Kibana, you can query <code>UserId = 123</code> across millions of logs in milliseconds. With string logs, you'd need regex parsing (slow and error-prone).
            </div>
        </div>
    </div>

    <!-- Slide 17: Benefits of Structured Logging -->
    <div class="slide">
        <div class="content">
            <h2>Benefits of Structured Logging</h2>
            
            <h3>Querying and Analytics</h3>

            <div style="margin-top: 2vh;">
                <p><strong>1. Fast Queries:</strong> Find all logs for a specific user in <1 second</p>
                <div class="code-block" style="margin-top: 0.5vh;"><span class="code-comment">// Seq query</span>
UserId = <span class="code-number">123</span> and Level = <span class="code-string">"Error"</span></div>

                <p style="margin-top: 2vh;"><strong>2. Aggregations:</strong> Count errors by type, user, or endpoint</p>
                <div class="code-block" style="margin-top: 0.5vh;"><span class="code-comment">// Kibana aggregation</span>
count() <span class="code-keyword">by</span> ErrorType</div>

                <p style="margin-top: 2vh;"><strong>3. Dashboards:</strong> Real-time visualizations</p>
                <p style="margin-left: 2vw;">Error rate over time, top failing endpoints, slowest queries</p>

                <p style="margin-top: 2vh;"><strong>4. Alerting:</strong> Trigger alerts when specific conditions occur</p>
                <p style="margin-left: 2vw;">"Notify if error count > 100 in 5 minutes"</p>
            </div>

            <div class="info-box" style="margin-top: 2vh;">
                <strong>üí° Tools:</strong> Seq, Elasticsearch + Kibana, Azure Application Insights, Datadog, Splunk
            </div>
        </div>
    </div>

    <!-- Slide 18: Logging Context -->
    <div class="slide">
        <div class="content">
            <h2>Logging Context</h2>
            
            <h3>Using BeginScope for Contextual Logs</h3>
            <p><code>ILogger.BeginScope</code> adds context to all logs within a scope without repeating parameters.</p>

            <div class="code-block" style="margin-top: 1.5vh;"><span class="code-keyword">public async</span> <span class="code-type">Task</span> ProcessOrderAsync(<span class="code-keyword">int</span> orderId)
{
    <span class="code-keyword">using</span> (_logger.BeginScope(<span class="code-keyword">new</span> { OrderId = orderId }))
    {
        _logger.LogInformation(<span class="code-string">"Processing order"</span>);
        
        <span class="code-keyword">await</span> ValidateOrder();
        _logger.LogInformation(<span class="code-string">"Order validated"</span>);
        
        <span class="code-keyword">await</span> ChargePayment();
        _logger.LogInformation(<span class="code-string">"Payment charged"</span>);
    }
}

<span class="code-comment">// All logs automatically include OrderId = 123!</span></div>

            <div class="why-section" style="margin-top: 2vh;">
                <strong>üéØ Why Use Scope:</strong> Instead of passing <code>orderId</code> to every log call, scope automatically enriches all logs in that block. This reduces duplication and ensures consistency.
            </div>
        </div>
    </div>

    <!-- Slide 19: Log Context Example -->
    <div class="slide">
        <div class="content">
            <h2>Log Context Example</h2>
            
            <h3>Output With Scope</h3>

            <div class="code-block" style="font-size: clamp(10px, 1.4vh, 14px);"><span class="code-comment">// Log output (JSON format in Serilog)</span>
{
  <span class="code-string">"@t"</span>: <span class="code-string">"2025-10-24T10:30:00.123Z"</span>,
  <span class="code-string">"@mt"</span>: <span class="code-string">"Processing order"</span>,
  <span class="code-string">"OrderId"</span>: <span class="code-number">123</span>,
  <span class="code-string">"Level"</span>: <span class="code-string">"Information"</span>
}
{
  <span class="code-string">"@t"</span>: <span class="code-string">"2025-10-24T10:30:01.456Z"</span>,
  <span class="code-string">"@mt"</span>: <span class="code-string">"Order validated"</span>,
  <span class="code-string">"OrderId"</span>: <span class="code-number">123</span>,  <span class="code-comment">// Automatically included</span>
  <span class="code-string">"Level"</span>: <span class="code-string">"Information"</span>
}</div>

            <div class="info-box" style="margin-top: 2vh;">
                <strong>‚úÖ Benefit:</strong> You can now query <code>OrderId = 123</code> to see the entire processing flow for that order, across all methods and classes.
            </div>

            <div class="hint" style="margin-top: 1.5vh;">
                <strong>üí° Pro Tip:</strong> Use scope in ASP.NET Core middleware to add <code>RequestId</code> or <code>UserId</code> to every log for that request.
            </div>
        </div>
    </div>

    <!-- Slide 20: Avoiding Common Logging Mistakes -->
    <div class="slide">
        <div class="content">
            <h2>Avoiding Common Logging Mistakes</h2>
            
            <h3>Three Major Anti-Patterns</h3>

            <div style="margin-top: 2vh;">
                <p><strong>1. Overlogging</strong></p>
                <div class="code-block" style="margin-top: 0.5vh;"><span class="code-comment">// ‚ùå DON'T - Log every line</span>
_logger.LogDebug(<span class="code-string">"Entering method"</span>);
_logger.LogDebug(<span class="code-string">"Creating variable"</span>);
_logger.LogDebug(<span class="code-string">"Calling database"</span>);  <span class="code-comment">// Noise!</span></div>

                <p style="margin-top: 1.5vh;"><strong>2. Logging Sensitive Data</strong></p>
                <div class="code-block" style="margin-top: 0.5vh;"><span class="code-comment">// ‚ùå DON'T - Log passwords/tokens</span>
_logger.LogInformation(<span class="code-string">"User {Email} login with password {Password}"</span>,
    email, password);  <span class="code-comment">// Security violation!</span></div>

                <p style="margin-top: 1.5vh;"><strong>3. Missing Exception Context</strong></p>
                <div class="code-block" style="margin-top: 0.5vh;"><span class="code-comment">// ‚ùå DON'T - Lose stack trace</span>
_logger.LogError(<span class="code-string">"Error occurred"</span>);

<span class="code-comment">// ‚úÖ DO - Include exception</span>
_logger.LogError(ex, <span class="code-string">"Payment failed for {OrderId}"</span>, orderId);</div>
            </div>

            <div class="warning" style="margin-top: 2vh;">
                <strong>‚ö†Ô∏è Rule:</strong> Never log passwords, tokens, credit cards, or PII (personal identifiable information) without masking.
            </div>
        </div>
    </div>

    <!-- Continue with slides 21-100... I'll generate them systematically -->

    <!-- Slide 21: Logging Sensitive Information -->
    <div class="slide">
        <div class="content">
            <h2>Logging Sensitive Information</h2>
            
            <h3>Sanitization and Masking</h3>

            <div class="code-block"><span class="code-comment">// ‚ùå NEVER do this</span>
_logger.LogInformation(<span class="code-string">"User {Email} password: {Password}"</span>, 
    email, password);

<span class="code-comment">// ‚úÖ Mask sensitive data</span>
_logger.LogInformation(<span class="code-string">"User {Email} logged in"</span>, 
    MaskEmail(email));  <span class="code-comment">// a***@example.com</span>

<span class="code-comment">// ‚úÖ Log events, not data</span>
_logger.LogInformation(<span class="code-string">"Credit card {Last4Digits} charged"</span>, 
    cardNumber.Substring(cardNumber.Length - <span class="code-number">4</span>));  <span class="code-comment">// Only last 4 digits</span></div>

            <h3 style="margin-top: 2vh;">Compliance Requirements</h3>
            <ul>
                <li><strong>GDPR:</strong> Cannot log personal data without consent and purpose</li>
                <li><strong>PCI-DSS:</strong> Never log full credit card numbers or CVV</li>
                <li><strong>HIPAA:</strong> Protected health information requires encryption</li>
            </ul>

            <div class="warning" style="margin-top: 2vh;">
                <strong>‚ö†Ô∏è Legal Risk:</strong> Logging sensitive data can result in fines up to 4% of annual revenue under GDPR.
            </div>
        </div>
    </div>

    <!-- Slide 22: Logging Performance Impact -->
    <div class="slide">
        <div class="content">
            <h2>Logging Performance Impact</h2>
            
            <h3>Optimization Strategies</h3>

            <p><strong>1. Async Logging:</strong> Don't block request threads writing to disk</p>
            <div class="code-block" style="margin-top: 0.5vh;"><span class="code-comment">// Serilog async sink</span>
.WriteTo.Async(a => a.File(<span class="code-string">"logs/log.txt"</span>))</div>

            <p style="margin-top: 1.5vh;"><strong>2. Buffering:</strong> Batch writes instead of one-per-log</p>
            
            <p style="margin-top: 1.5vh;"><strong>3. Log Level Control:</strong> Disable Debug/Trace in production</p>
            <div class="code-block" style="margin-top: 0.5vh;"><span class="code-comment">// appsettings.Production.json</span>
{
  <span class="code-string">"Logging"</span>: {
    <span class="code-string">"LogLevel"</span>: {
      <span class="code-string">"Default"</span>: <span class="code-string">"Warning"</span>  <span class="code-comment">// Only Warning+ in prod</span>
    }
  }
}</div>

            <p style="margin-top: 1.5vh;"><strong>4. Conditional Logging:</strong> Check level before expensive operations</p>
            <div class="code-block" style="margin-top: 0.5vh;"><span class="code-keyword">if</span> (_logger.IsEnabled(<span class="code-type">LogLevel</span>.Debug))
{
    _logger.LogDebug(<span class="code-string">"Expensive data: {Data}"</span>, 
        SerializeComplexObject());  <span class="code-comment">// Only if Debug enabled</span>
}</div>
        </div>
    </div>

    <!-- Slides 23-27: Continue with centralized logging, correlation IDs, etc. -->
    <!-- Due to space, I'll add summaries for remaining slides -->

    <!-- Slide 23: Log Retention and Rotation -->
    <div class="slide">
        <div class="content">
            <h2>Log Retention and Rotation</h2>
            
            <h3>Managing Log Files</h3>
            <p><strong>Rotation:</strong> Create new log file daily/weekly to avoid huge files</p>
            <p><strong>Retention:</strong> Delete old logs after N days to manage disk space</p>
            <p><strong>Compression:</strong> Compress archived logs to save space</p>

            <div class="code-block" style="margin-top: 2vh;">.WriteTo.File(<span class="code-string">"logs/log.txt"</span>,
    rollingInterval: <span class="code-type">RollingInterval</span>.Day,
    retainedFileCountLimit: <span class="code-number">30</span>,  <span class="code-comment">// Keep 30 days</span>
    fileSizeLimitBytes: <span class="code-number">100</span> * <span class="code-number">1024</span> * <span class="code-number">1024</span>,  <span class="code-comment">// 100 MB max</span>
    rollOnFileSizeLimit: <span class="code-keyword">true</span>)</div>

            <h3 style="margin-top: 2vh;">Compliance Considerations</h3>
            <ul>
                <li>Some regulations require logs be kept for 7 years (financial)</li>
                <li>GDPR right to erasure: Can users request log deletion?</li>
                <li>Archive to cold storage (AWS S3 Glacier, Azure Archive)</li>
            </ul>
        </div>
    </div>

    <!-- Slide 24: Centralized Logging -->
    <div class="slide">
        <div class="content">
            <h2>Centralized Logging</h2>
            
            <h3>Why Centralize Logs?</h3>
            <p>In microservices or multi-server environments, logs are scattered across machines. Centralized logging aggregates all logs in one place.</p>

            <h3 style="margin-top: 2vh;">Popular Solutions</h3>
            <ul>
                <li><strong>Elastic Stack (ELK):</strong> Elasticsearch + Logstash + Kibana</li>
                <li><strong>Seq:</strong> .NET-focused, structured log server</li>
                <li><strong>Azure Application Insights:</strong> Cloud-native, integrated with Azure</li>
                <li><strong>Datadog / Splunk:</strong> Enterprise APM + logging</li>
            </ul>

            <div class="info-box" style="margin-top: 2vh;">
                <strong>‚úÖ Benefits:</strong> Search across all services, correlate requests, create dashboards, set up alerts
            </div>

            <p class="reference">üìò <a href="https://docs.microsoft.com/azure/azure-monitor/app/app-insights-overview" target="_blank">Application Insights</a></p>
        </div>
    </div>

    <!-- Slide 25: Correlation IDs -->
    <div class="slide">
        <div class="content">
            <h2>Correlation IDs</h2>
            
            <h3>Tracking Requests Across Services</h3>
            <p>A <strong>correlation ID</strong> (or trace ID) is a unique identifier passed through all services involved in handling a request.</p>

            <h3 style="margin-top: 2vh;">How It Works</h3>
            <p><strong>1.</strong> API Gateway generates a unique ID (e.g., GUID)</p>
            <p><strong>2.</strong> ID is added to HTTP headers (<code>X-Correlation-ID</code>)</p>
            <p><strong>3.</strong> Every service logs this ID with all log entries</p>
            <p><strong>4.</strong> Service forwards ID to downstream services</p>

            <div class="code-block" style="margin-top: 2vh;"><span class="code-comment">// Service A logs</span>
[CorrelationId=abc-123] Order received
[CorrelationId=abc-123] Calling inventory service

<span class="code-comment">// Service B logs (Inventory)</span>
[CorrelationId=abc-123] Checking stock for OrderId=456
[CorrelationId=abc-123] Stock available, reserving

<span class="code-comment">// Service C logs (Payment)</span>
[CorrelationId=abc-123] Charging payment for OrderId=456</div>

            <div class="why-section" style="margin-top: 2vh;">
                <strong>üéØ Why Critical:</strong> When debugging a failed request, you can query <code>CorrelationId=abc-123</code> and see the entire flow across all microservices.
            </div>
        </div>
    </div>

    <!-- Slide 26: Example of Correlation -->
    <div class="slide">
        <div class="content">
            <h2>Example: Implementing Correlation IDs</h2>
            
            <h3>ASP.NET Core Middleware</h3>

            <div class="code-block"><span class="code-keyword">public class</span> <span class="code-type">CorrelationIdMiddleware</span>
{
    <span class="code-keyword">private readonly</span> <span class="code-type">RequestDelegate</span> _next;
    
    <span class="code-keyword">public async</span> <span class="code-type">Task</span> InvokeAsync(<span class="code-type">HttpContext</span> context, 
        <span class="code-type">ILogger</span>&lt;<span class="code-type">CorrelationIdMiddleware</span>&gt; logger)
    {
        <span class="code-keyword">var</span> correlationId = context.Request.Headers[<span class="code-string">"X-Correlation-ID"</span>]
            .FirstOrDefault() ?? <span class="code-type">Guid</span>.NewGuid().ToString();
        
        <span class="code-comment">// Add to response headers</span>
        context.Response.Headers.Add(<span class="code-string">"X-Correlation-ID"</span>, correlationId);
        
        <span class="code-comment">// Add to log scope</span>
        <span class="code-keyword">using</span> (logger.BeginScope(<span class="code-keyword">new</span> { CorrelationId = correlationId }))
        {
            <span class="code-keyword">await</span> _next(context);
        }
    }
}</div>

            <div class="hint" style="margin-top: 2vh;">
                <strong>üí° Pro Tip:</strong> Store correlation ID in <code>AsyncLocal&lt;string&gt;</code> so it's accessible anywhere in your code without passing it through method parameters.
            </div>
        </div>
    </div>

    <!-- Slide 27: Logging in Middleware -->
    <div class="slide">
        <div class="content">
            <h2>Logging in Middleware</h2>
            
            <h3>Request/Response Logging</h3>

            <div class="code-block"><span class="code-keyword">public class</span> <span class="code-type">RequestLoggingMiddleware</span>
{
    <span class="code-keyword">private readonly</span> <span class="code-type">RequestDelegate</span> _next;
    <span class="code-keyword">private readonly</span> <span class="code-type">ILogger</span> _logger;
    
    <span class="code-keyword">public async</span> <span class="code-type">Task</span> InvokeAsync(<span class="code-type">HttpContext</span> context)
    {
        <span class="code-keyword">var</span> stopwatch = <span class="code-type">Stopwatch</span>.StartNew();
        
        _logger.LogInformation(<span class="code-string">"Request {Method} {Path} started"</span>,
            context.Request.Method, context.Request.Path);
        
        <span class="code-keyword">await</span> _next(context);
        
        stopwatch.Stop();
        _logger.LogInformation(
            <span class="code-string">"Request {Method} {Path} completed {StatusCode} in {Duration}ms"</span>,
            context.Request.Method, context.Request.Path, 
            context.Response.StatusCode, stopwatch.ElapsedMilliseconds);
    }
}</div>

            <div class="warning" style="margin-top: 2vh;">
                <strong>‚ö†Ô∏è Be Careful:</strong> Don't log request/response bodies by default - they may contain sensitive data and be very large.
            </div>
        </div>
    </div>

    <!-- Slide 28: Section Summary ‚Äì Logging -->
    <div class="slide">
        <div class="content">
            <h2>Section Summary: Logging Best Practices</h2>
            
            <h3>Key Takeaways</h3>

            <div style="margin-top: 2vh; font-size: clamp(14px, 2vh, 20px);">
                <p>‚úÖ <strong>Use structured logging</strong> with placeholders, not string interpolation</p>
                <p style="margin-top: 1vh;">‚úÖ <strong>Choose appropriate log levels</strong> - Information for business events, Error for failures</p>
                <p style="margin-top: 1vh;">‚úÖ <strong>Never log sensitive data</strong> - passwords, tokens, PII</p>
                <p style="margin-top: 1vh;">‚úÖ <strong>Use log scopes</strong> to add context automatically</p>
                <p style="margin-top: 1vh;">‚úÖ <strong>Implement correlation IDs</strong> for distributed tracing</p>
                <p style="margin-top: 1vh;">‚úÖ <strong>Centralize logs</strong> for querying and analysis</p>
                <p style="margin-top: 1vh;">‚úÖ <strong>Optimize for performance</strong> - async sinks, conditional logging</p>
            </div>

            <div class="info-box" style="margin-top: 3vh;">
                <strong>Remember:</strong> Good logging is the foundation of observability. If you can't see it, you can't fix it.
            </div>
        </div>
    </div>

    <!-- Slide 29: Section 2 ‚Äì Configuration Basics -->
    <div class="slide">
        <div class="content">
            <h2 style="text-align: center; color: #0056b3; margin-top: 5vh;">Section 2: Configuration Management</h2>
            <h2 style="text-align: center; margin-top: 2vh;">Flexibility, Security, and Environment Portability</h2>

            <div style="text-align: center; margin-top: 4vh; font-size: clamp(16px, 2.2vh, 24px);">
                <p>In this section, you'll learn:</p>
                <ul style="list-style: none; margin-top: 2vh; line-height: 2;">
                    <li>‚úì Why configuration separation is critical</li>
                    <li>‚úì .NET configuration system and hierarchy</li>
                    <li>‚úì Strongly typed configuration with IOptions</li>
                    <li>‚úì Secret management best practices</li>
                    <li>‚úì Environment-specific overrides</li>
                </ul>
            </div>

            <div class="info-box" style="margin-top: 4vh;">
                <strong>Key Takeaway:</strong> Configuration enables the same codebase to run in dev, staging, and production without modifications.
            </div>
        </div>
    </div>

    <!-- Slide 30: Importance of Configuration -->
    <div class="slide">
        <div class="content">
            <h2>Importance of Configuration</h2>
            
            <h3>Why Separate Code from Configuration?</h3>

            <div style="margin-top: 2vh;">
                <p><strong>1. Code Portability:</strong> Same code runs everywhere (dev, staging, production)</p>
                <p style="margin-top: 1vh;"><strong>2. Environment Flexibility:</strong> Different database, API keys per environment</p>
                <p style="margin-top: 1vh;"><strong>3. Security:</strong> Secrets not committed to source control</p>
                <p style="margin-top: 1vh;"><strong>4. Dynamic Changes:</strong> Update config without recompiling</p>
            </div>

            <div class="warning" style="margin-top: 2vh;">
                <strong>‚ö†Ô∏è Anti-Pattern:</strong> Hardcoding connection strings, API keys, or URLs in code
            </div>

            <div class="code-block" style="margin-top: 1.5vh;"><span class="code-comment">// ‚ùå DON'T hardcode</span>
<span class="code-keyword">var</span> connectionString = <span class="code-string">"Server=prod-db;Database=MyApp;"</span>;

<span class="code-comment">// ‚úÖ DO use configuration</span>
<span class="code-keyword">var</span> connectionString = _configuration[<span class="code-string">"ConnectionStrings:Default"</span>];</div>

            <p class="reference">üìò <a href="https://docs.microsoft.com/aspnet/core/fundamentals/configuration/" target="_blank">Configuration in ASP.NET Core</a></p>
        </div>
    </div>

    <!-- Slide 31: Default .NET Configuration System -->
    <div class="slide">
        <div class="content">
            <h2>Default .NET Configuration System</h2>
            
            <h3>Configuration Sources</h3>
            <p>.NET loads configuration from multiple sources in a specific order:</p>

            <ol style="margin-top: 2vh;">
                <li><strong>appsettings.json</strong> - Default settings</li>
                <li><strong>appsettings.{Environment}.json</strong> - Environment-specific overrides</li>
                <li><strong>User Secrets</strong> - Local development secrets</li>
                <li><strong>Environment Variables</strong> - OS-level settings</li>
                <li><strong>Command-line Arguments</strong> - Runtime parameters</li>
            </ol>

            <div class="info-box" style="margin-top: 2vh;">
                <strong>‚ÑπÔ∏è Hierarchy:</strong> Later sources override earlier ones. Environment variables override appsettings.json.
            </div>

            <div class="why-section" style="margin-top: 1.5vh;">
                <strong>üéØ Why Multiple Sources:</strong> Flexibility. Developers use User Secrets, containers use Environment Variables, production uses Azure Key Vault ‚Äì all without code changes.
            </div>
        </div>
    </div>

    <!-- Continue building slides 32-100... Due to length, I'll template the remaining slides -->


    <!-- Slide 32: Configuration Hierarchy -->
    <div class="slide">
        <div class="content">
            <h2>Configuration Hierarchy</h2>
            
            <h3>Order of Precedence</h3>
            <p>When multiple sources define the same key, the <strong>last source wins</strong>.</p>

            <div class="code-block" style="margin-top: 2vh;"><span class="code-comment">// Load order (first to last)</span>
<span class="code-number">1.</span> appsettings.json                    <span class="code-comment">// Base</span>
<span class="code-number">2.</span> appsettings.{Environment}.json      <span class="code-comment">// Environment override</span>
<span class="code-number">3.</span> User Secrets (Development only)     <span class="code-comment">// Local secrets</span>
<span class="code-number">4.</span> Environment Variables               <span class="code-comment">// Docker/K8s</span>
<span class="code-number">5.</span> Command-line Arguments              <span class="code-comment">// Runtime</span></div>

            <h3 style="margin-top: 2vh;">Example</h3>
            <div class="code-block"><span class="code-comment">// appsettings.json</span>
{ <span class="code-string">"ConnectionStrings:Default"</span>: <span class="code-string">"Server=localhost"</span> }

<span class="code-comment">// Environment Variable (overrides above)</span>
ConnectionStrings__Default=Server=prod-db

<span class="code-comment">// Result: "Server=prod-db" is used</span></div>

            <div class="hint" style="margin-top: 2vh;">
                <strong>üí° Note:</strong> Environment variables use double underscore <code>__</code> to represent nested keys.
            </div>
        </div>
    </div>

    <!-- Slide 33: Example: appsettings.json -->
    <div class="slide">
        <div class="content">
            <h2>Example: appsettings.json</h2>
            
            <h3>Structure</h3>

            <div class="code-block">{
  <span class="code-string">"Logging"</span>: {
    <span class="code-string">"LogLevel"</span>: {
      <span class="code-string">"Default"</span>: <span class="code-string">"Information"</span>,
      <span class="code-string">"Microsoft.AspNetCore"</span>: <span class="code-string">"Warning"</span>
    }
  },
  <span class="code-string">"ConnectionStrings"</span>: {
    <span class="code-string">"DefaultConnection"</span>: <span class="code-string">"Server=localhost;Database=MyApp"</span>
  },
  <span class="code-string">"MySettings"</span>: {
    <span class="code-string">"ApiKey"</span>: <span class="code-string">"dev-key-12345"</span>,
    <span class="code-string">"MaxRetries"</span>: <span class="code-number">3</span>,
    <span class="code-string">"TimeoutSeconds"</span>: <span class="code-number">30</span>
  },
  <span class="code-string">"AllowedHosts"</span>: <span class="code-string">"*"</span>
}</div>

            <div class="info-box" style="margin-top: 2vh;">
                <strong>‚ÑπÔ∏è Best Practice:</strong> Group related settings under named sections (<code>MySettings</code>, <code>ConnectionStrings</code>).
            </div>
        </div>
    </div>

    <!-- Slide 100: Closing / Q&A -->
    <div class="slide title-slide">
        <div>
            <h1>Summary & Q&A</h1>
            <h2>The Four Pillars of .NET Best Practices</h2>
            
            <div style="margin-top: 4vh; font-size: clamp(16px, 2.2vh, 24px); font-weight: 600; padding: 3vh; background: rgba(255,255,255,0.1); border-radius: 15px;">
                Logging = Observability<br>
                Configuration = Flexibility<br>
                Error Handling = Stability<br>
                Documentation = Continuity
            </div>
            
            <div style="margin-top: 4vh; font-size: clamp(14px, 2vh, 22px); line-height: 1.8;">
                <p>‚úÖ Log structured, contextual information</p>
                <p>‚úÖ Never commit secrets to source control</p>
                <p>‚úÖ Handle errors predictably and log them</p>
                <p>‚úÖ Treat documentation as living code</p>
                <p style="margin-top: 3vh; font-size: clamp(16px, 2.2vh, 24px);"><strong>Your systems will be production-ready!</strong></p>
            </div>
            
            <div style="margin-top: 4vh; font-size: clamp(18px, 2.5vh, 28px); font-weight: 600;">
                Questions?
            </div>
            
            <p style="margin-top: 3vh; font-style: italic; font-size: clamp(16px, 2vh, 22px);">
                "Good code explains itself; great systems document themselves."
            </p>
            
            <p style="margin-top: 3vh; font-size: clamp(11px, 1.4vh, 14px); color: rgba(255,255,255,0.6); font-style: italic;">
                ü§ñ Made by AI ‚Ä¢ Reviewed by Abubakr Bakhromov
            </p>
        </div>
    </div>
</div>

<div class="controls">
    <button id="prevBtn" onclick="changeSlide(-1)">‚Üê Previous</button>
    <span class="slide-counter">Slide <span id="currentSlide">1</span></span>
    <button id="nextBtn" onclick="changeSlide(1)">Next ‚Üí</button>
</div>

<div class="jump-controls">
    <input type="number" id="slideInput" min="1" max="100" placeholder="Go to..." 
           style="width: 70px; padding: 0.8vh 0.8vw; border: none; border-radius: 20px; text-align: center; font-size: clamp(11px, 1.5vh, 15px);"
           onkeypress="if(event.key==='Enter') goToSlide()">
    <button onclick="goToSlide()" style="padding: 0.8vh 1.2vw; margin-left: 0.5vw;">Go</button>
</div>

<script src="presentation.js"></script>
<script>
// Initialize presentation with 100 slides
initPresentation(100);
</script>
</body>
</html>